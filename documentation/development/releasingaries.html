<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ReleasingAries :: Apache Aries</title>
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="icon" href="../../_/img/ram.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../index.html">
        <span>
          <img src="../../_/img/feather.svg">
        </span>
        <span>
          <img src="../../_/img/ram.svg">
        </span>
        Apache Aries
      </a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="../../index.html">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Projects</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="../modules/async-svcs.html">Async Services</a>
            <a class="navbar-item" href="../modules/blueprint.html">Blueprint</a>
            <a class="navbar-item" href="../modules/jmx.html">JMX</a>
            <a class="navbar-item" href="../modules/jndiproject.html">JNDI</a>
            <a class="navbar-item" href="../modules/jpaproject.html">JPA</a>
            <a class="navbar-item" href="../modules/rsa.html">Remote Service Admin</a>
            <a class="navbar-item" href="../modules/spi-fly.html">Spi-Fly</a>
            <a class="navbar-item" href="../modules/subsystems.html">Subsystems</a>
            <a class="navbar-item" href="../modules/transactioncontrol.html">Transaction Control</a>
          </div>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="../downloads/currentreleases.html">Downloads</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="documentation" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Documentation</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Community</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/boardreports.html">Board Reports</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/overview.html">Community</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/resources.html">Community Resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/gettinginvolved.html">Getting Involved</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/logos.html">Logos</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/mailinglists.html">MailingLists</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../community/people.html">People</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Board Reports</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2011.html">April 2011 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2012.html">April 2012 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2013.html">April 2013 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2014.html">April 2014 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2015.html">April 2015 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2016.html">April 2016 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/april-2018.html">April 2018 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/december-2009.html">December 2009 Board Report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/december-2010.html">December 2010 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/february-2011.html">February 2011 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/feb-2015.html">February 2015 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/january-2011.html">January 2011 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/january-2012.html">January 2012 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/january-2013.html">January 2013 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/january-2014.html">January 2014 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/jan-2016.html">January 2016 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/jan-2017.html">January 2017 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/jan-2018.html">January 2018 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2011.html">July 2011 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2012.html">July 2012 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2013.html">July 2013 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2014.html">July 2014 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2015.html">July 2015 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2016.html">July 2016 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2017.html">July 2017 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/july-2018.html">July 2018 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/june-2010.html">June 2010 Board Report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/march-2010.html">March 2010 Board Report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/march-2011.html">March 2011 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/may-2017.html">May 2017 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/november-2009.html">November 2009 Board Report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/nov-2015.html">November 2015 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/october-2009.html">October 2009 Board Report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/october-2011.html">October 2011 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/october-2012.html">October 2012 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/oct-2013.html">October 2013 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/oct-2014.html">October 2014 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/september-2015.html">October 2015 Report from the Apache Aries committee [Jeremy Hughes]</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/oct-2016.html">October 2016 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/oct-2017.html">October 2017 Board report</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../community/boardreports/september-2010.html">September 2010 Board Report</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Development</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="versionpolicy.html">Aries versioning policy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="buildingaries.html">BuildingAries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="guidelines.html">Coding guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="compliancetesting.html">ComplianceTesting</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="resources.html">Developer Resources</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="maintainingthewebpages.html">MaintainingTheWebPages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="architecture.html">Module build time dependencies</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="ReleaseProcessRequirements.html">Release process requirements</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="releasingaries.html">ReleasingAries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="verifyingrelease.html">Verifying Release Artifacts</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Documentation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/application-dependencies.html">Aries Application Modules</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/articles.html">Articles</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/integrators-guide.html">Integrators guide</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/tools.html">Tools</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../documentation/tutorials.html">Tutorials</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tools</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../documentation/tools/repositoryGenerator.html">Repository Generator Tool</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Tutorials</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../documentation/tutorials/blueprinthelloworldtutorial.html">BlueprintHelloWorldTutorial</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../documentation/tutorials/greetertutorial.html">Greeter: Another Blueprint Tutorial</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Downloads</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/javadoc.html">0.3 Javadocs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/currentrelease.html">Apache Aries Downloads</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/archived-releases.html">Archived releases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/currentreleases.html">Downloads</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/testresults.html">TestResults</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/ariestrader-1.0.0.html">The AriesTrader Sample</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../downloads/blogsample-1.0.0.html">The Blog Sample</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Archived Releases</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">0.1-incubating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.1-incubating/0.1-incubating.html">Apache Aries 0.1-incubating release</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.1-incubating/ariestrader-0.1-incubating.html">The AriesTrader Sample</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.1-incubating/blogsample-0.1-incubating.html">The Blog Sample - version 0.1-incubating.</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">0.2-incubating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.2-incubating/0.2-incubating.html">Apache Aries Downloads</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.2-incubating/0.2-incubating-releasenotes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.2-incubating/0.2-incubating-testresults.html">TestResults</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.2-incubating/ariestrader-0.2-incubating.html">The AriesTrader Sample</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.2-incubating/blogsample-0.2-incubating.html">The Blog Sample</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">0.3-incubating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.3/0.3.html">Apache Aries Downloads</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.3/0.3-releasenotes.html">Release Notes</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.3/ariestrader-0.3.html">The AriesTrader Sample</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/archived-releases/0.3/blogsample-0.3.html">The Blog Sample</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">CT</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">0.2-incubating</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/org.osgi.test.cases.blueprint.html">master@documentation:ROOT:downloads/ct/0.2-incubating/org.osgi.test.cases.blueprint.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/org.osgi.test.cases.blueprint.java5.html">master@documentation:ROOT:downloads/ct/0.2-incubating/org.osgi.test.cases.blueprint.java5.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/org.osgi.test.cases.blueprint.secure.html">master@documentation:ROOT:downloads/ct/0.2-incubating/org.osgi.test.cases.blueprint.secure.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/org.osgi.test.cases.jmx.html">master@documentation:ROOT:downloads/ct/0.2-incubating/org.osgi.test.cases.jmx.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/org.osgi.test.cases.jndi.html">master@documentation:ROOT:downloads/ct/0.2-incubating/org.osgi.test.cases.jndi.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/org.osgi.test.cases.transaction.html">master@documentation:ROOT:downloads/ct/0.2-incubating/org.osgi.test.cases.transaction.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.2-incubating/testresults.html">TestResults</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">0.3</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.blueprint.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.blueprint.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.blueprint.java5.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.blueprint.java5.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.blueprint.secure.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.blueprint.secure.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.jmx.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.jmx.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.jndi.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.jndi.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.jndi.secure.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.jndi.secure.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/org.osgi.test.cases.transaction.html">master@documentation:ROOT:downloads/ct/0.3/org.osgi.test.cases.transaction.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/0.3/testresults.html">TestResults</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">1.0.0</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.blueprint.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.blueprint.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.blueprint.java5.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.blueprint.java5.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.blueprint.secure.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.blueprint.secure.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.jmx.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.jmx.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.jndi.43.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.jndi.43.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.jndi.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.jndi.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.jndi.secure.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.jndi.secure.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.jpa.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.jpa.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/1.0.0/org.osgi.test.cases.transaction.html">master@documentation:ROOT:downloads/ct/1.0.0/org.osgi.test.cases.transaction.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">current-release (1.0??)</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/current-release/org.osgi.test.cases.blueprint.html">master@documentation:ROOT:downloads/ct/current-release/org.osgi.test.cases.blueprint.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/current-release/org.osgi.test.cases.blueprint.java5.html">master@documentation:ROOT:downloads/ct/current-release/org.osgi.test.cases.blueprint.java5.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/current-release/org.osgi.test.cases.blueprint.secure.html">master@documentation:ROOT:downloads/ct/current-release/org.osgi.test.cases.blueprint.secure.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/current-release/org.osgi.test.cases.jmx.html">master@documentation:ROOT:downloads/ct/current-release/org.osgi.test.cases.jmx.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/current-release/org.osgi.test.cases.jndi.html">master@documentation:ROOT:downloads/ct/current-release/org.osgi.test.cases.jndi.adoc</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../downloads/ct/current-release/org.osgi.test.cases.transaction.html">master@documentation:ROOT:downloads/ct/current-release/org.osgi.test.cases.transaction.adoc</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/applications.html">Aries Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/containers.html">Aries Containers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/jpaproject.html">Aries JPA</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/transactioncontrol.html">Aries Transaction Control Service</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/async-svcs.html">Asynchronous Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/blueprint.html">Blueprint</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/blueprintnoosgi.html">Blueprint No-OSGi</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/blueprint-maven-plugin.html">blueprint-maven-plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/blueprintannotation.html">BlueprintAnnotation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/blueprintweb.html">BlueprintWeb</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/ebamavenpluginproject.html">EBA Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/esaanttask.html">ESA Ant Task</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/esamavenpluginproject.html">ESA Maven Plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/jmx.html">JMX</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/jndiproject.html">JNDI</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/subsystems.html">OSGi Subsystems</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/rsa.html">RSA (Remote Service Admin)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/samples.html">Samples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/spi-fly.html">SPI Fly</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/transactionsproject.html">Transactions Project</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Samples</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/samples/goatsample.html">GOAT Sample</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/samples/ariestrader.html">The AriesTrader Sample</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/samples/blog-sample.html">The Blog Sample</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Transaction Control</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/advancedScopes.html">Advanced Scope control</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/localTransactions.html">Aries Local Transaction Control implementation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/localJDBC.html">Aries OSGi Transaction Control JDBC Provider (Local)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/xaJDBC.html">Aries OSGi Transaction Control JDBC Provider (XA)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/localJPA.html">Aries Transaction Control JPA Provider (Local)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/xaJPA.html">Aries Transaction Control JPA Provider (XA)</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/xaTransactions.html">Aries XA Transaction Control implementation</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/exceptionManagement.html">Exception Management</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/quickstart.html">Getting started with the Transaction Control Service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/advancedResourceProviders.html">Making your own Resource Provider</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/spring-tx.html">Migrating from declarative transactions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/index.html">The Transaction Control service</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/coordinator.html">Using the Coordinator to optimise Transactions</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../modules/tx-control/lastResourceGambit.html">Using the Last Resource Gambit</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Documentation</span>
    <span class="version">master</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Documentation</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">master</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Documentation</a></li>
    <li>Development</li>
    <li><a href="releasingaries.html">ReleasingAries</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/apache/aries-antora-site/edit/master/modules/ROOT/pages/development/releasingaries.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">ReleasingAries</h1>
<div class="sect1">
<h2 id="_how_to_do_an_aries_release"><a class="anchor" href="#_how_to_do_an_aries_release"></a>How to do an Aries Release</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are three types of Aries release:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Releasing a single Aries bundle (or group of bundles)</p>
</li>
<li>
<p>Releasing a distribution - a group of bundles that work together</p>
</li>
<li>
<p>Releasing the samples</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The outline process is the same in all three cases, further on down this page there are details about how the Apache release process works and how to get set up to run it, read those sections first if this is  your first release.
If you are already familiar with the Apache process just use the high level descriptions in the next few paragraphs to perform releases.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_releasing_a_single_bundle_or_group_of_bundles"><a class="anchor" href="#_releasing_a_single_bundle_or_group_of_bundles"></a>Releasing a single bundle or group of bundles.</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_what_to_release_make_a_list"><a class="anchor" href="#_what_to_release_make_a_list"></a>What to release? Make a list</h3>
<div class="paragraph">
<p>The Apache release process will not release any bundle that has dependencies on -SNAPSHOTS.
If, for example, a release of the blueprint API bundle is required the first step is to find and release any of its -SNAPSHOT dependencies.
Because Aries bundles are quite interdependent (see broken link to 'moduledependencies' here)  for an idea of how the modules relate to each other, it may be necessary to release quite a large number of bundles.
So, step one is to make a list.</p>
</div>
</div>
<div class="sect2">
<h3 id="_choosing_a_strategy_for_the_release"><a class="anchor" href="#_choosing_a_strategy_for_the_release"></a>Choosing a strategy for the release</h3>
<div class="paragraph">
<p>Even when releasing a large number of bundles, in Aries we release bundles individually.
If there are dependencies between the bundles you want to release, you have four strategies for how to release them.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Release incrementally.</strong></p>
<div class="ulist">
<ul>
<li>
<p>Release bundles in dependency order, updating dependencies only after releases are promoted.</p>
</li>
<li>
<p>This has the advantage that trunk always builds cleanly.</p>
</li>
<li>
<p>The disadvantage is that each release needs to be open for voting for at least 72 hours, so the elapsed time for a large release can be very long.</p>
</li>
<li>
<p>The list may get fed up of voting on multiple vote threads, although the <a href="http://aries.apache.org/development/verifyingrelease.html">verification script</a> may help.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Release all at once, then patch up trunk, then fix trunk</strong></p>
<div class="ulist">
<ul>
<li>
<p>Release api bundles release and have them uploaded to nexus, then upgrade the implementations  and all other components to use those releases, commit,  release those other projects, then close the staging repo and call for a vote.</p>
</li>
<li>
<p>Bundles in the staging repo will need to compiled in a set order, which makes the verification script less useful.</p>
</li>
<li>
<p>Trunk will be broken, unless you back out everything which you changed to use the released version back to using the old snapshot (<em>not</em> the new snapshot created by the release plugin).
Then once the release has been promoted, change everything using the old snapshot back to using the released version.</p>
</li>
<li>
<p>Doing a release this way can really reduce the amount of time spent waiting for votes.</p>
</li>
<li>
<p>However, getting everything right without breaking trunk can be complex.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Release all at once, and use profiles to keep trunk building</strong></p>
<div class="ulist">
<ul>
<li>
<p>This is similar to the second procedure, except instead of backing everything out, you just provide a maven profile which people can use until the release is promoted</p>
</li>
<li>
<p>Once the release is promoted, cleaning up is easy - just delete the profile</p>
</li>
<li>
<p>You will also need to temporarily change the Jenkins build instructions</p>
</li>
<li>
<p>If people don&#8217;t notice they need to build using a profile, they may be confused about why things are broken</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Release from a branch</strong></p>
<div class="ulist">
<ul>
<li>
<p>This is similar to the second procedure, except there&#8217;s no need to patch trunk up to keep it compiling</p>
</li>
<li>
<p>You will need to merge the branch across once the release has been promoted, which is extra complexity</p>
</li>
<li>
<p>Doing mainline releases from branches plays havoc with git mirroring, so we promised to try and avoid doing it</p>
</li>
<li>
<p>See below for extra instructions on releasing from a branch</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>In many cases with semantically versioned bundles there won&#8217;t be dependencies on the latest and greatest snapshots, which makes everything much easier.</p>
</div>
</div>
<div class="sect2">
<h3 id="_how_to_deal_with_jira"><a class="anchor" href="#_how_to_deal_with_jira"></a>How to deal with JIRA</h3>
<div class="paragraph">
<p>Before actually doing any releasing work through the list of bundles and understand what defects have been fixed (add more about JIRA versions here)</p>
</div>
</div>
<div class="sect2">
<h3 id="_what_version_will_be_released"><a class="anchor" href="#_what_version_will_be_released"></a>What version will be released?</h3>
<div class="paragraph">
<p>For each bundle on the list check how its package versions have changed since the last release.
Based on this, use the <a href="versionpolicy">versioning policy</a> to determine the version of the bundle that should be released.</p>
</div>
</div>
<div class="sect2">
<h3 id="_releasing_bundles"><a class="anchor" href="#_releasing_bundles"></a>Releasing bundles</h3>
<div class="paragraph">
<p>For each bundle:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Deploy a SNAPSHOT to the maven snapshot repository (mvn deploy)</p>
</li>
<li>
<p>Build each module and run RAT checks</p>
</li>
<li>
<p>Create the release artifacts (mvn release:prepare)</p>
</li>
<li>
<p>Upload release artifacts to a staging repository (mvn release:perform)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_complete_the_process"><a class="anchor" href="#_complete_the_process"></a>Complete the process</h3>
<div class="paragraph">
<p>Once the bundles are in the staging repository, start a vote on the release.
After 72 hours close the vote.
To complete the release process it is necessary to copy the new bundles to the dist dir and update table on the web pages.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_releasing_a_distribution"><a class="anchor" href="#_releasing_a_distribution"></a>Releasing a distribution</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A distribution is just a collection of Aries bundles which have already been released.
The distribution is just a convenient way for consumers to download aries bundles and all of the Aries bundles that they depend on.
There are three distributions:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Blueprint</p>
</li>
<li>
<p>Application (isolating framework)</p>
</li>
<li>
<p>Application (non-isolating framework)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The release process is just the same as for everything else, again, the right time to release these is immediately after a bundle(s) release when you have a collection of artifacts that  work together.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_releasing_the_samples"><a class="anchor" href="#_releasing_the_samples"></a>Releasing the samples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Aries samples are designed to work across all the Aries modules.
Samples are released as a single module.
All of the Aries dependencies are listed in the top level samples pom.
<em>It is very important the versions are set <strong>only</strong> in the top level  sample pom</em>.
Both sub-modules and filtered resources need the version information, setting it in one place is the only way to avoid a mess.</p>
</div>
<div class="paragraph">
<p>The best time to do a samples release is usually at the end of a bundle release.</p>
</div>
<div class="paragraph">
<p>It is critically important that the samples are all tested before making release.
Some have itests but others (blueprint) are only tested manually.
In fact it&#8217;s wise to run through a quick manual check for the blog and aries trader samples as the itests do not catch everything.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_background_information_on_the_apache_release_process"><a class="anchor" href="#_background_information_on_the_apache_release_process"></a>Background information on the Apache Release process</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To create a release you will need to create the release artifacts and move then to various places (ultimately the Maven central repository).
The Maven commands and general outline of the process looks like this:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../_images/development/AriesRelease.png" alt="rel">
</div>
</div>
<div class="paragraph">
<p>The full maven commands are not shown - the intention is just to give an indication of which maven commands you will need to use to create release artifacts in different places.</p>
</div>
<div class="paragraph">
<p>Performing a release is described in detail <a href="http://apache.org/dev/publishing-maven-artifacts.html">here</a> . This document It covers all the steps listed above so on these pages we will only add things which are specific to the Apache Aries release.</p>
</div>
<div class="paragraph">
<p>There are a few steps to the process:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Discussion of the release and its content on the dev@aries mailing list.</p>
</li>
<li>
<p>Creating and storing GPG keys</p>
</li>
<li>
<p>Setting up your environment</p>
</li>
<li>
<p>JIRA preparation</p>
</li>
<li>
<p>Checking the release version of the bundle</p>
</li>
<li>
<p>Checking release artifacts on your local system</p>
</li>
<li>
<p>Creating a snapshot release</p>
</li>
<li>
<p>Releasing to a staging repository (uses mvn release:prepare and mvn release:perform)</p>
</li>
<li>
<p>Running a vote</p>
</li>
<li>
<p>Promoting the release artifacts to the Apache release repository</p>
</li>
<li>
<p>Making the release artifacts available from the Aries web pages</p>
</li>
<li>
<p>What to do when people find problems with the release artifacts</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The best current documentation for releases is <a href="http://apache.org/dev/publishing-maven-artifacts.html">here</a>.
It covers all the steps listed above so on these pages we will only add things which are specific to the Apache Aries release.</p>
</div>
<div class="sect2">
<h3 id="_discussion_of_the_release_and_its_content_on_the_aries_mailing_list"><a class="anchor" href="#_discussion_of_the_release_and_its_content_on_the_aries_mailing_list"></a>Discussion of the release and its content on the Aries mailing list</h3>
<div class="paragraph">
<p>Before starting off the release process it is essential to gain consensus on the dev@aries list that this is the right time for a release and to agree its content.
Allow at least a week for this discussion.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_and_storing_gpg_keys"><a class="anchor" href="#_creating_and_storing_gpg_keys"></a>Creating and storing GPG keys</h3>
<div class="paragraph">
<p>For Aries your GPG key will need to be in this file: <a href="https://svn.apache.org/repos/asf/aries/KEYS" class="bare">https://svn.apache.org/repos/asf/aries/KEYS</a> (follow the instructions in the file) and checkin.
Then ensure the file is mirrored to <a href="http://www.apache.org/dist/aries/KEYS" class="bare">http://www.apache.org/dist/aries/KEYS</a> by following the instructions <a href="http://www.apache.org/dev/release.html#upload-scp">here</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_setting_up_your_environment"><a class="anchor" href="#_setting_up_your_environment"></a>Setting up your environment</h3>
<div class="paragraph">
<p>Follow the general instructions linked to above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_branch_to_release_from_if_needed"><a class="anchor" href="#_creating_a_branch_to_release_from_if_needed"></a>Creating a branch to release from (if needed)</h3>
<div class="paragraph">
<p>It is strongly recomended that releases are made from trunk and NEVER from a branch.
But, if you have to release from a branch this is what  you will need to do:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>svn copy https://svn.apache.org/repos/asf/aries/trunk \

https://svn.apache.org/repos/asf/aries/branches/0.X-RCx \

  -m "Creating a release branch of /aries/trunk."</pre>
</div>
</div>
<div class="paragraph">
<p>Where '0.X' is the number of the release.</p>
</div>
<div class="paragraph">
<p>Checkout the new branch, for example, for the 0.2-incubating  release:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>svn co https://svn.apache.org/repos/asf/aries/branches/0.2-RCx aries-0.2-candidate</pre>
</div>
</div>
<div class="paragraph">
<p><em>IMPORTANT</em> If you are using a branch to release you <strong>must</strong> edit the  pom.xml for <strong>each</strong> bundle to change the SCM references to point to the branch and not to trunk.
For example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;connection&gt;scm:svn:http://svn.apache.org/repos/asf/aries/branches/0.2-RCx/parent&lt;/connection&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;developerConnection&gt;scm:svn:https://svn.apache.org/repos/asf/aries/branches/0.2-RCx/parent&lt;/developerConnection&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;url&gt;scm:svn:http://svn.apache.org/repos/asf/aries/branches/0.2-RCx/parent&lt;/url&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The consequence of forgetting this is that the commands that create the release (mvn release:prepare, mvn release:perform) will declare SUCCESS but will not create a staging repository and will add stuff to the snapshot repository :-/.</p>
</div>
<div class="paragraph">
<p>After taking the branch, change the pom versions in trunk to, say, 0.3-incubating or whatever you want to call the next development version.</p>
</div>
</div>
<div class="sect2">
<h3 id="_checking_which_version_of_the_bundle_to_release"><a class="anchor" href="#_checking_which_version_of_the_bundle_to_release"></a>Checking which version of the bundle to release</h3>
<div class="paragraph">
<p>If the Maven version of the bundle ends -SNAPSHOT then some change has been made which may require a release.
To get a summary of the changes, use svn to compare with the most recently released tag,  for example:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>svn diff https://svn.apache.org/repos/asf/aries/tags/testsupport-0.3/  https://svn.apache.org/repos/asf/aries/trunk/testsupport/ --summarize</pre>
</div>
</div>
<div class="paragraph">
<p>In general, if no Java files have changed only the micro version of the bundle will need to be incremented on release.
If Java  code has changed it is important to check the packageinfo files to see whether package versions have changed.
If so these might lead to the requirement to increment the major or minor versions the bundle.</p>
</div>
</div>
<div class="sect2">
<h3 id="_checking_release_artifacts"><a class="anchor" href="#_checking_release_artifacts"></a>Checking release artifacts</h3>
<div class="paragraph">
<p>Delete everything under &#8230;&#8203;org/apache/aries in your local Maven repo.
For linux/Mac users you will find this under ~/.m2/repository/.</p>
</div>
<div class="paragraph">
<p>Check that the code builds using the usual <a href="buildingaries.html">sequence</a>  of commands, but add the following arguments to the 'mvn install' command:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn install -Papache-release -DcreateChecksum=true</pre>
</div>
</div>
<div class="paragraph">
<p>This should build and install release artifacts in your local repo.</p>
</div>
<div class="paragraph">
<p>Check the <a href="https://repository.apache.org/content/repositories/releases/org/apache/aries/parent/0.1-incubating/">0.1 release</a>  to understand what files should be created.</p>
</div>
<div class="paragraph">
<p>To perform legal checks, in each subproject, run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn rat:check -fn</pre>
</div>
</div>
<div class="paragraph">
<p>This will run through the project and its sub projects generating a file called rat.txt in each target directory.
The 'fn' means it will carry on even if it find a failure.
To inspect the failures, use:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>find . -name rat.txt | xargs grep \!\?\?</pre>
</div>
</div>
<div class="paragraph">
<p>This will pick out the failing file names.
Some of the files that rat fails do not require an Apache license, eg MANIFEST.MF, but any *.java or *.js file does need one.
As an alternative you can use 'mvn -Prat install'.</p>
</div>
</div>
<div class="sect2">
<h3 id="_creating_a_snapshot_release"><a class="anchor" href="#_creating_a_snapshot_release"></a>Creating a snapshot release</h3>
<div class="paragraph">
<p>This is important to do when releasing from trunk as other bundles may want to continue to depend on the -SNAPSHOT version while the release is voted through.</p>
</div>
<div class="paragraph">
<p>mvn deploy (check exact format)</p>
</div>
</div>
<div class="sect2">
<h3 id="_jira_preparation"><a class="anchor" href="#_jira_preparation"></a>JIRA preparation</h3>
<div class="ulist">
<ul>
<li>
<p>After initial release discussion on the mailing list you should have a list of JIRA issues that are required in the release.
If not, the default assumption is 'everything that has been fixed since the last release'.</p>
</li>
<li>
<p>Make sure that there is a JIRA version that matches the name of the release, if not, create one.</p>
</li>
<li>
<p>Check through defects, make sure that anything that is included in the release has been closed.
If there are open issues move them to the next release.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_creating_the_release"><a class="anchor" href="#_creating_the_release"></a>Creating the release</h3>
<div class="sect3">
<h4 id="_creating_the_release_artifacts_in_a_staging_repository"><a class="anchor" href="#_creating_the_release_artifacts_in_a_staging_repository"></a>Creating the release artifacts in a staging repository</h4>
<div class="paragraph">
<p>The release is created by releasing each bundle separately and in a specific order.
It is also desirable to maintain the same IP address for the entire process (the staging repository is associated with your IP address, changing it results in the creation of a second staging repository).</p>
</div>
<div class="paragraph">
<p>Short summary: Use a wired ether net connection and allow about 4 hours for the next few steps.</p>
</div>
<div class="paragraph">
<p>From the top level directory in your branch run:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mvn clean</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Note</dt>
<dd>
<p>The prepare step will make some assumptions about the version of the development stream that is left after the release has been made.
When releasing from a branch it may not be a good idea to accept the default for this, it will very likely conflict with the development version in use in trunk.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>For each bundle that needs to be release perform the following commands:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Check that there are no depndencies on -SNAPSHOT versions.
Ensure that everything is committed in SVN
mvn release:prepare -Papache-release -DpreparationGoals="clean install" -DwaitBeforeTagging="10" -DscmCommentPrefix="[ARIES-xxx][maven-release-plugin]"
mvn release:perform -Papache-release</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Note 1: Use the -DdryRun option to check that release-prepare works.</p>
</li>
<li>
<p>Note 2: mvn release:prepare makes and commits changes in SVN.
You&#8217;ll be asked three questions.
Here they are with answers for the 'parent' module release:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>What is the release version for "Aries :: Top Parent POM"?
(org.apache.aries:parent) 0.5: :</p>
</li>
<li>
<p>What is SCM release tag or label for "Aries :: Top Parent POM"?
(org.apache.aries:parent) parent-0.5: :</p>
</li>
<li>
<p>What is the new development version for "Aries :: Top Parent POM"?
(org.apache.aries:parent) 0.6-SNAPSHOT: : 0.5.1</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>i.e.
take the defaults for the last two questions, but change the release version if required.
The last person doing a release didn&#8217;t know whether the next version released from the trunk would have a major, minor or micro version number change - they couldn&#8217;t know until those changes were made!</p>
</div>
<div class="ulist">
<ul>
<li>
<p>but they had to make a guess.
Now is the time  to correct their guess.
Similarly, you won&#8217;t know what the next release number should be, but you need to use <em>something</em>, so accept the default.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Note 3: Since the release plugin makes changes in SCM, use a JIRA for the release (ARIES-XXX here) in the commit comment to make it easier to see what&#8217;s changed.</p>
</li>
<li>
<p>Note 4: The task will appear to hang at the end.
It&#8217;s waiting ten seconds to do the tagging, to ensure everything works in Europe, where svn is mirrored from a US master.</p>
</li>
<li>
<p>Note 5: mvn release:clean will do <em>most</em> of the cleaning up in the event of failures.</p>
</li>
<li>
<p>Note 6: If on mvn release:prepare you get an error from SVN similar to <a href="https://svn.apache.org/repos/asf/!svn/bc/1182408/aries/tags/parent-0.5/default-parent/java5-parent/org.apache.aries.bundle.i.am.releasing" class="bare">https://svn.apache.org/repos/asf/!svn/bc/1182408/aries/tags/parent-0.5/default-parent/java5-parent/org.apache.aries.bundle.i.am.releasing</a> does not exist then it&#8217;s because there&#8217;s no scm element in the pom.xml for the module you&#8217;re releasing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This will put release artifacts into an Apache <a href="https://repository.apache.org/index.html#view-repositories;staging.html">staging repository</a>.
You will need to log in to see it.
If nothing appears in a staging repo you should stop here and work out why.
If you have made a mistake it&#8217;s quite easy to revert.
The release commands make and commit changes to the project&#8217;s pom.xml files and they create a tag in SVN.
To revert the changes you will need to revert the pom.xml files and delete the tag from svn.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_closing_the_staging_repository"><a class="anchor" href="#_closing_the_staging_repository"></a>Closing the staging repository</h3>
<div class="paragraph">
<p>After checking that the staging repository contains the artifacts that you expect you should close the staging repository.
This will make it available so that people can check the release.</p>
</div>
</div>
<div class="sect2">
<h3 id="_running_the_vote"><a class="anchor" href="#_running_the_vote"></a>Running the vote.</h3>
<div class="paragraph">
<p>At this point you should write two notes to the <a href="mailto:dev@aries.apache.org">dev@aries.apache.org</a> mailing list.
You may wish to ensure they have slightly different subjects, since googlemail seems to ignore anything in brackets when threading.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Subject [VOTE]  Apache Aries release candidate 0N</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The the source archive files should be explicitly called out by release manager in any release vote.
From an Apache legal standpoint, this is what the project is "releasing" and what the community should be voting on.
In this <a href="devlistvote.txt">sample note</a> , there is a link to each modules' source*.zip file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Subject [DISCUSS]  Apache Aries  release candidate 0X</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The content should just indicate that the note starts a thread to discuss the Aries release.</p>
</div>
<div class="paragraph">
<p>After 72 hours, if no problems have been found in the release artifacts, the dev@aries vote can be summarised and closed.
Note that at least three +1 votes from Aries PMC members are required.</p>
</div>
</div>
<div class="sect2">
<h3 id="_promoting_the_release_artifacts"><a class="anchor" href="#_promoting_the_release_artifacts"></a>Promoting the release artifacts</h3>
<div class="paragraph">
<p>From the <a href="https://repository.apache.org/index.html#stagingRepositories">Nexus pages</a> , select the staging repository and select 'release' from the top menu.
This moves the release artifacts into an Apache releases repository, from there they will be automatically moved to the Maven repository.</p>
</div>
</div>
<div class="sect2">
<h3 id="_making_the_release_artifacts_available_from_the_aries_web_pages"><a class="anchor" href="#_making_the_release_artifacts_available_from_the_aries_web_pages"></a>Making the release artifacts available from the Aries web pages.</h3>
<div class="paragraph">
<p>Anything that is to be downloaded must be put in /www/www.apache.org/dist/aries on minotaur.
Don&#8217;t forget to changes the file permissions to '664' so that other  members of the group can access them.
The distributions are archived here /www/archive.apache.org/dist/aries.</p>
</div>
<div class="paragraph">
<p>First, delete the artifacts of the previous release from the distribution directory.
You don&#8217;t need to worry about putting the previous release artifacts in the archive as they will already have been rsync&#8217;d from the distribution directory.</p>
</div>
<div class="paragraph">
<p>Then, put new release artifacts in the distribution directory.
This is best done using a script, the script can be generated using the perl script <a href="http://svn.apache.org/repos/asf/aries/scripts/download_release_artifacts.pl">download_release_artifacts.pl</a>.</p>
</div>
<div class="paragraph">
<p>Next, update the Aries Downloads pages to refer to the new artifacts.
The the perl script <a href="http://svn.apache.org/repos/asf/aries/scripts/create_modules_table.pl">create_modules_table.pl</a> can do this automatically.</p>
</div>
</div>
<div class="sect2">
<h3 id="_updating_dependencies"><a class="anchor" href="#_updating_dependencies"></a>Updating dependencies</h3>
<div class="paragraph">
<p>Once the release is promoted, change all the bundles which depend on the SNAPSHOT to depend on the released version.
Deployed snapshots get regularly cleaned from the repositories if there&#8217;s a released version available, so building against them isn&#8217;t reliable.</p>
</div>
<div class="paragraph">
<p>Don&#8217;t move bundles which depend on earlier releases to depend on the new release, or they won&#8217;t be able to run in an environment with the older bundles.</p>
</div>
</div>
<div class="sect2">
<h3 id="_tidying_up_tasks"><a class="anchor" href="#_tidying_up_tasks"></a>Tidying up tasks</h3>
<div class="ulist">
<ul>
<li>
<p>Get the <a href="http://aries.apache.org/development/compliancetesting.html">compliance tests</a> run</p>
</li>
<li>
<p>Release notes</p>
</li>
<li>
<p>Release the component in JIRA (manage components), check the JIRA release notes.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_what_to_do_when_people_find_problems_with_the_release"><a class="anchor" href="#_what_to_do_when_people_find_problems_with_the_release"></a>What to do when people find problems with the release</h3>
<div class="ulist">
<ul>
<li>
<p>Cancel the vote [CANCELLED] [VOTE]</p>
</li>
<li>
<p>Clean up, fix and re-release.
The good news here is that it isn&#8217;t necessarily essential to re-release every module.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>Content licensed under AL2. UI licensed under MPL-2.0 with extensions licensed under AL2</p>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
