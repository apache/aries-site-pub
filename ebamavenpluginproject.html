<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd";>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements. See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License. You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html>
  <head>
    <link type="text/css" rel="stylesheet"
href="http://incubator.apache.org/aries/resources/site.css";></link>
    <script src="http://incubator.apache.org/aries/resources/space.js";
type="text/javascript"></script>
<meta name="keywords" content="..."/>
<meta name="description" content="..." />
    <title>
		Apache Aries - EBAMavenPluginProject
    </title>
  </head>
<body onload="init()">

<table width="100%" cellpadding="0" cellspacing="0">
  <tr width="100%">
    <td id="cell-0-0" colspan="2">&nbsp;</td>
    <td id="cell-0-1">&nbsp;</td>
    <td id="cell-0-2" colspan="2">&nbsp;</td>
  </tr>
  <tr width="100%">
    <td id="cell-1-0">&nbsp;</td>
    <td id="cell-1-1">&nbsp;</td>
    <td id="cell-1-2">
      <div style="padding: 5px;">
        <div id="banner">
          <!-- Banner -->
			<table border="0" cellpadding="0" cellspacing="0" width="100%">
				<tr>
					<td align="left" class="topbardiv" nowrap="">
						<a href="http://incubator.apache.org/aries/" title="Apache Aries (incubating)"> <img border="0" src="http://incubator.apache.org/aries/images/Arieslogo_Horizontal.gif"> </a>
					</td>
					<td align="right" nowrap="">
						<a href="http://www.apache.org/" title="The Apache Software Foundation"> <img border="0" src="http://incubator.apache.org/aries/images/apache-incubator-logo.png"> </a>
      				</td>
				</tr>
			</table>
          <!-- Banner -->
        </div>
      </div>
      <div id="top-menu">
        <table border="0" cellpadding="1" cellspacing="0" width="100%">
          <tr>
            <td>
              <div align="left">
                <!-- Breadcrumbs -->
                <!-- Breadcrumbs -->
              </div>
            </td>
            <td>
              <div align="right">
                <!-- Quicklinks -->
					<DIV style="padding: 5px 5px 0px 25px;">
						<FORM action="http://www.google.com/search" method="get" style="font-size: 10px;">
						<A href="http://www.apache.org/licenses/LICENSE-2.0.html" class="external-link" rel="nofollow">License</A> <A href="sitemap.html" title="SiteMap">Site Map</A> 
						<INPUT name="ie" type="hidden" value="UTF-8"></INPUT>
						<INPUT name="oe" type="hidden" value="UTF-8"></INPUT>
						<INPUT maxlength="255" name="q" size="15" type="text" value></INPUT>
						<INPUT name="btnG" type="submit" value="Search"></INPUT>
						<INPUT name="domains" type="hidden" value="incubator.apache.org/aries"></INPUT>
						<INPUT name="sitesearch" type="hidden" value="incubator.apache.org/aries"></INPUT>
						</FORM>
					</DIV>
                <!-- Quicklinks -->
              </div>
            </td>
          </tr>
        </table>
      </div>
    </td>
    <td id="cell-1-3">&nbsp;</td>
    <td id="cell-1-4">&nbsp;</td>
  </tr>
  <tr width="100%">
    <td id="cell-2-0" colspan="2">&nbsp;</td>
    <td id="cell-2-1">
      <table>
        <tr height="100%" valign="top">
          <td height="100%">
            <div id="wrapper-menu-page-right">
              <div id="wrapper-menu-page-top">
                <div id="wrapper-menu-page-bottom">
                  <div id="menu-page">
                    <!-- NavigationBar -->
					<ul>
<li><h3><a href="overview.html">Overview</a></h3><ul>
<li><h4><a href="boardreports.html">Board Reports</a></h4></li>
<li><h4><a href="sitemap.html">Site Map</a></h4></li>
</ul>
</li>
<li><h3><a href="documentation.html">Documentation</a></h3><ul>
<li><h4><a href="ariesprogrammingmodel.html">Programming Model</a></h4></li>
<li><h4><a href="pointerstoosgispecifications.html">Pointers to OSGi specs</a></h4></li>
<li><h4><a href="integrators-guide.html">Integrators Guide</a></h4></li>
<li><h4><a href="articles.html">Articles</a></h4></li>
<li><h4><a href="https://svn.apache.org/repos/asf/incubator/aries/slides/">Slides</a></h4></li>
<li><h4><a href="tutorials.html">Tutorials</a></h4></li>
</ul>
</li>
<li><h3><a href="downloads.html">Downloads</a></h3></li>
<li><h3><a href="community.html">Community</a></h3><ul>
<li><h4><a href="gettinginvolved.html">Getting Involved</a></h4></li>
<li><h4><a href="people.html">Who we are</a></h4></li>
<li><h4><a href="mailinglists.html">Mailing lists</a></h4></li>
<li><h4><a href="http://blogs.apache.org/aries/">Aries Group Blog</a></h4></li>
</ul>
</li>
<li><h3><a href="development.html">Development</a></h3><ul>
<li><h4><a href="https://svn.apache.org/repos/asf/incubator/aries/.html">Source Control </a></h4></li>
<li><h4><a href="https://issues.apache.org/jira/browse/aries.html">Bug Tracking</a></h4></li>
<li><h4><a href="buildingaries.html">Building Aries </a></h4></li>
<li><h4><a href="releasingaries.html">Releasing Aries </a></h4></li>
<li><h4><a href="compliancetesting.html">OSGi Compliance Tests </a></h4></li>
<li><h4><a href="http://hudson.zones.apache.org/hudson/.html">Build System</a></h4></li>
<li><h4><a href="maintainingthewebpages.html">Web Site Maintenance </a></h4></li>
</ul>
</li>
<li><h3><a href="modules.html">Modules</a></h3><ul>
<li><h4><a href="samples.html">Samples</a></h4></li>
<li><h4><a href="blueprint.html">Blueprint</a></h4></li>
<li><h4><a href="jndiproject.html">JNDI</a></h4></li>
<li><h4><a href="jpaproject.html">JPA</a></h4></li>
<li><h4><a href="applications.html">Applications</a></h4></li>
<li><h4><a href="transactionsproject.html">Transactions</a></h4></li>
<li><h4><a href="-ebamavenpluginproject.html">EBA Maven Plugin </a></h4></li>
<li><h4><a href="spi-fly.html">SPI Fly</a></h4></li>
</ul>
</li>
<li><h3> <a href="sponsorship.html">Sponsorship</a></h3></li>
</ul> 
                    <!-- NavigationBar -->
                  </div>
                </div>
              </div>
            </div>
          </td>
          <td height="100%" width="100%">
            <!-- Content -->
            <div class="wiki-content"><p><a name="EBAMavenPluginProject-EBAMavenPlugin"></a></p>
<h1 id="eba_maven_plugin">EBA Maven Plugin</h1>
<p>The EBA Maven Plugin provides the ability to generate EBA archives using
Maven.  The EBA archive format is described in <a href="applications.html">Applications</a>
.  An EBA archive can optionally contain an Application manifest
(APPLICATION.MF).  This can be added in one of two ways</p>
<ol>
<li>Hand written and added into the archive.</li>
<li>Generated based on pom configuration.</li>
</ol>
<p><a name="EBAMavenPluginProject-UsingthePlugin"></a></p>
<h2 id="using_the_plugin">Using the Plugin</h2>
<p>The plugin is included by as follows:</p>
<div class="codehilite"><pre>    <span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.aries<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>eba-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>
</pre></div>


<p>By default it will not generate a manifest, so in the above example it will
attempt to copy a pre-defined APPLICATION.MF from
src/main/resources/META-INF.  If that file does not exist, then no
application manifest will be included.</p>
<p><a name="EBAMavenPluginProject-GeneratinganAPPLICATION.MF"></a></p>
<h2 id="generating_an_applicationmf">Generating an APPLICATION.MF</h2>
<p>The following example shows how to get the plugin to generate an
APPLICATION.MF based on the pom configuration:</p>
<div class="codehilite"><pre>    <span class="nt">&lt;build&gt;</span>
    <span class="nt">&lt;plugins&gt;</span>
        <span class="nt">&lt;plugin&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.apache.aries<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>eba-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;configuration&gt;</span>
            <span class="nt">&lt;generateManifest&gt;</span>true<span class="nt">&lt;/generateManifest&gt;</span>
        <span class="nt">&lt;/configuration&gt;</span>
        <span class="nt">&lt;/plugin&gt;</span>
    <span class="nt">&lt;/plugins&gt;</span>
    <span class="nt">&lt;/build&gt;</span>
</pre></div>


<p>The pom to application manfiest header mapping is as follows:
<em> Pom <groupId/>.<artifactId/> -&gt; Application-SymbolicName
</em> Pom <name/> -&gt; Application-Name
<em> Pom <version/> -&gt; Application-Version (cleaned up for OSGi)
</em> Pom <description/> -&gt; Application-Description
* Pom <dependencies/> -&gt; Application-Content</p>
<p><a name="EBAMavenPluginProject-OverridingApplication-SymbolicName"></a></p>
<h2 id="overriding_application-symbolicname">Overriding Application-SymbolicName</h2>
<p>The application symbolic name defaults to the
${pom.groupId}.${pom.artifaceId}.  The following shows how to override
this:</p>
<div class="codehilite"><pre><span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;instructions&gt;</span>
    <span class="nt">&lt;Application</span><span class="err">-SymbolicName</span><span class="nt">&gt;</span><span class="cp">${</span><span class="n">pom</span><span class="o">.</span><span class="n">artifaceId</span><span class="cp">}</span><span class="nt">&lt;/Application-SymbolicName&gt;</span>
  <span class="nt">&lt;/instructions&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>


<p><a name="EBAMavenPluginProject-AddingApplication-ExportServiceandApplication-ImportServiceheaders"></a></p>
<h2 id="adding_application-exportservice_and_application-importservice_headers">Adding Application-ExportService and Application-ImportService headers</h2>
<p>The application import service and export service headers can be set as
follows.  The text inside the elements is included as-is.</p>
<div class="codehilite"><pre><span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;instructions&gt;</span>
    <span class="nt">&lt;Application-ExportService&gt;</span>...<span class="nt">&lt;/Application-ExportService&gt;</span>
    <span class="nt">&lt;Application-ImportService&gt;</span>...<span class="nt">&lt;/Application-ImportService&gt;</span>
  <span class="nt">&lt;/instructions&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div>


<p><a name="EBAMavenPluginProject-Includingtransitivedependencies"></a></p>
<h2 id="including_transitive_dependencies">Including transitive dependencies</h2>
<p>By default, the archive will only include the direct dependencies of the
project.  Transitive dependencies can be includes as follows:</p>
<div class="codehilite"><pre><span class="nt">&lt;configuration&gt;</span>
  <span class="nt">&lt;useTransitiveDependencies&gt;</span>true<span class="nt">&lt;/useTransitiveDependencies&gt;</span>
<span class="nt">&lt;/configuration&gt;</span>
</pre></div></div>
            <!-- Content -->
          </td>
        </tr>
      </table>
   </td>
   <td id="cell-2-2" colspan="2">&nbsp;</td>
  </tr>
  <tr width="100%">
   <td id="cell-3-0">&nbsp;</td>
   <td id="cell-3-1">&nbsp;</td>
   <td id="cell-3-2">
     <div id="footer">
       <!-- Footer -->
       <div id="site-footer">
         <a href="http://incubator.apache.org/aries/privacy-policy.html";>Privacy
Policy</a> 
       </div>
       <!-- Footer -->
     </div>
   </td>
   <td id="cell-3-3">&nbsp;</td>
   <td id="cell-3-4">&nbsp;</td>
  </tr>
  <tr width="100%">
    <td id="cell-4-0" colspan="2">&nbsp;</td>
    <td id="cell-4-1">&nbsp;</td>
    <td id="cell-4-2" colspan="2">&nbsp;</td>
  </tr>
</table>
</body>
</html> 
